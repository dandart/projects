<!DOCTYPE html>
<script src="index.js"></script>
<canvas id="canvas" width="1200" height="600" style="width:1200px;height:600px"></canvas>
<script>
var ctx = document.getElementById('canvas').getContext('2d');
AudioContext = window.AudioContext || window.webkitAudioContext ;
context = new AudioContext();

function playSound(buffer) {
  var source = context.createBufferSource(); // creates a sound source
  source.buffer = buffer;                    // tell the source which sound to play
  source.connect(context.destination);       // connect the source to the context's destination (the speakers)
  source.start(0);                           // play the source now
                                             // note: on older systems, may have to use deprecated noteOn(time);
}

var playTone = function(freq, time, delay) {
var oscillator = context.createOscillator();
oscillator.type = 0; // sine wave

setTimeout(function() {
	oscillator.frequency.value = freq;
	oscillator.connect(context.destination);
	oscillator.start();
}, delay);

setTimeout(function() {
	oscillator.stop();
}, delay + time);
}


var HEIGHT = 600;
function line(x1,y1,x2,y2) {
	ctx.beginPath();
	ctx.moveTo(x1, HEIGHT - 10*y1);
	ctx.lineTo(x2, HEIGHT - 10*y2);
	ctx.stroke();
}
var oldx = 0;
var oldy = 0;
for (var i = 0; i <= 10000; i++) {
	var newx = i;
	var newy = sumfact(i);
//	if (newy >= newx) continue;
	if (newy > Math.sqrt(newx)) continue;
	line(oldx,100*((oldy-5)/oldx),newx,100*((newy-5)/newx));
//	playTone(440+10000*((newy-5)/newx), 1, 1*i);
	oldx = newx;
	oldy = newy;
}
</script>
